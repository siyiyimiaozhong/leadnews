webpackJsonp([5],{Hqjd:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("lC5x"),r=a.n(n),s=a("4YfN"),i=a.n(s),l=a("J0Oq"),o=a.n(l),u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"filter"},[a("div",{staticClass:"filter-container"},[a("el-form",{ref:"form"},[a("el-form-item",{attrs:{"label-width":"100px",label:"搜索标签"}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"400px"},attrs:{placeholder:"请输入标签名称"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.queryData}},[t._v("搜 索")]),t._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.addData}},[t._v("新 增")])],1)],1)],1)])},staticRenderFns:[]};var c=a("C7Lr")({props:["changeParam","addData"],data:function(){return{name:""}},methods:{queryData:function(){var t={filed:"name",type:"like",value:this.name};this.changeParam(t)}}},u,!1,function(t){a("axU2")},"data-v-7493b4a4",null).exports,d=a("xT6B"),p=a("t5DY"),f=a("lS+k"),m={props:["host","list","table","pageSize","total","changePage","changeStatus","editData"],data:function(){return{listPage:{currentPage:1},id:{filed:"id",type:"eq",value:""},setForStatus:{status:""}}},methods:{getImage:function(t,e){return t[e]?this.host+t[e]:f},pageChange:function(t){this.changePage&&this.changePage({page:t})},resetPage:function(){},dateFormat:function(t){return d.a.format13(t)},operateForDisable:function(t,e,a){var n=this;return o()(r.a.mark(function s(){var i,l;return r.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n.id.value=t,i={name:n.table,where:[n.id],sets:[{filed:"status",value:e}]},r.next=4,Object(p.c)(i);case 4:0==(l=r.sent).code?(n.changeStatus(a,e),n.$message({type:"success",message:"操作成功！"})):n.$message({type:"error",message:l.errorMessage});case 6:case"end":return r.stop()}},s,n)}))()},operateForEditor:function(t){this.editData(t)},open:function(t){var e=this;this.$prompt(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(t){var a=t.value;e.params.msg=a,e.updateData(e.params)}).catch(function(){})}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"result"},[a("header",[t._v(t._s("共找到"+t.total+"条符合条件的内容"))]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list}},[a("el-table-column",{attrs:{label:"频道名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"描述"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.description))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"是否默认频道"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.is_default?a("el-tag",{attrs:{type:"success"}},[t._v("是")]):a("el-tag",{attrs:{type:"info"}},[t._v("否")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"是否有效"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.status?a("el-tag",{attrs:{type:"success"}},[t._v("是")]):a("el-tag",{attrs:{type:"info"}},[t._v("否")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"排序"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(e.row.ord))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.dateFormat(e.row.created_time)))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.operateForEditor(e.row)}}},[t._v("编辑")]),t._v(" "),1==e.row.status?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.operateForDisable(e.row.id,0,e.$index)}}},[t._v("无效")]):a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.operateForDisable(e.row.id,1,e.$index)}}},[t._v("有效")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"total,prev, pager, next","current-page":t.listPage.currentPage,"page-size":t.pageSize,total:t.total},on:{"current-change":t.pageChange,"update:currentPage":function(e){return t.$set(t.listPage,"currentPage",e)},"update:current-page":function(e){return t.$set(t.listPage,"currentPage",e)}}})],1)],1)},staticRenderFns:[]};var g={name:"ChannelManager",data:function(){return{params:{name:"AD_CHANNEL",page:1,size:10,where:[]},total:0,host:"",list:[],fileds:[{label:"频道名称",name:"name",type:"input",placeholder:"请输入频道名称",rule:[{required:!0,message:"请输入频道名称",trigger:"blur"},{min:2,max:4,message:"频道名称在2~4个字符",trigger:"blur"}]},{label:"频道描述",name:"description",type:"input",placeholder:"请输入描述信息"},{label:"默认频道",name:"is_default",type:"radio",value:0,radios:[{value:0,label:"否"},{value:1,label:"是"}]},{label:"是否有效",name:"status",type:"radio",value:1,radios:[{value:0,label:"否"},{value:1,label:"是"}]},{label:"排序",name:"ord",type:"number",value:0},{label:"创建时间",name:"created_time",type:"hidden",value:d.a.format13HH((new Date).getTime())}]}},mounted:function(){this.loadData()},components:{SearchTool:c,SearchResult:a("C7Lr")(m,h,!1,function(t){a("I5Sy")},"data-v-39efb0a8",null).exports,Editor:a("zytZ").a},methods:{editData:function(t){this.$refs.editor.edit(t)},addData:function(t){this.$refs.editor.add()},submitSuccess:function(){this.loadData()},changeStatus:function(t,e){this.$set(this.list[t],"status",e)},changeParam:function(t){this.params.page=1,this.params.where[0]=t,this.loadData()},changePage:function(t){this.params.page=t.page,this.loadData()},loadData:function(){var t=this;return o()(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.b)(i()({},t.params));case 2:0==(a=e.sent).code?(t.list=a.data.list,t.host=a.host,t.total=a.data.total):t.$message({type:"error",message:a.error_message});case 4:case"end":return e.stop()}},e,t)}))()}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Editor",{ref:"editor",attrs:{fileds:t.fileds,title:"频道",table:this.params.name,submitSuccess:t.submitSuccess}}),t._v(" "),a("search-tool",{attrs:{changeParam:t.changeParam,addData:t.addData}}),t._v(" "),a("search-result",{ref:"mySearchResult",attrs:{list:t.list,host:t.host,total:t.total,table:this.params.name,editData:t.editData,changePage:t.changePage,changeStatus:t.changeStatus,pageSize:t.params.size}})],1)},staticRenderFns:[]};var b=a("C7Lr")(g,v,!1,function(t){a("WZZq")},"data-v-215177a7",null);e.default=b.exports},I5Sy:function(t,e){},WZZq:function(t,e){},axU2:function(t,e){}});
//# sourceMappingURL=5.b640c64cc33af5a2b69a.js.map