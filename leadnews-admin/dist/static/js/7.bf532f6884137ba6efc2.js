webpackJsonp([7],{Keoe:function(e,t){},YJNj:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("lC5x"),l=a.n(n),r=a("4YfN"),s=a.n(r),i=a("J0Oq"),o=a.n(i),u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"filter"},[a("div",{staticClass:"filter-container"},[a("el-form",{ref:"form"},[a("el-form-item",{attrs:{"label-width":"100px",label:"搜索用户"}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"400px"},attrs:{placeholder:"请输入标签名称"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.queryData}},[e._v("搜 索")])],1)],1)],1)])},staticRenderFns:[]};var c=a("C7Lr")({props:["changeParam","addData"],data:function(){return{name:""}},methods:{queryData:function(){var e={filed:"name",type:"like",value:this.name};this.changeParam(e)}}},u,!1,function(e){a("jquy")},"data-v-deba7c6e",null).exports,d=a("xT6B"),f=a("t5DY"),p=a("lS+k"),m={props:["host","list","fileds","table","pageSize","total","changePage","changeStatus","editData","viewData"],data:function(){return{listPage:{currentPage:1},id:{filed:"id",type:"eq",value:""},setForStatus:{status:""}}},methods:{getImage:function(e,t){return e[t]?this.host+e[t]:p},pageChange:function(e){this.changePage&&this.changePage({page:e})},resetPage:function(){},dateFormat:function(e){return d.a.format13(e)},operateForDisable:function(e,t,a){var n=this;return o()(l.a.mark(function r(){var s,i;return l.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return n.id.value=e,s={name:n.table,where:[n.id],sets:[{filed:"status",value:t}]},l.next=4,Object(f.c)(s);case 4:0==(i=l.sent).code?(n.changeStatus(a,t),n.$message({type:"success",message:"操作成功！"})):n.$message({type:"error",message:i.errorMessage});case 6:case"end":return l.stop()}},r,n)}))()},operateForView:function(e){this.viewData(e)},open:function(e){var t=this;this.$prompt(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(e){var a=e.value;t.params.msg=a,t.updateData(t.params)}).catch(function(){})}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"result"},[a("header",[e._v(e._s("共找到"+e.total+"条符合条件的内容"))]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list}},[e._l(e.fileds,function(t){return[t.list?["radio"==t.type?a("el-table-column",{attrs:{label:t.label},scopedSlots:e._u([{key:"default",fn:function(n){return[e._l(t.radios,function(l){return[l.value==n.row[t.name]?[0==n.row[t.name]?a("el-tag",{attrs:{effect:"plain",type:"info"}},[e._v(e._s(l.label))]):1==n.row[t.name]?a("el-tag",{attrs:{effect:"plain",type:"success"}},[e._v(e._s(l.label))]):0==n.row[t.name]?a("el-tag",{attrs:{effect:"plain",type:"info"}},[e._v(e._s(l.label))]):1==n.row[t.name]?a("el-tag",{attrs:{effect:"plain",type:"success"}},[e._v(e._s(l.label))]):2==n.row[t.name]?a("el-tag",{attrs:{effect:"plain",type:"warning"}},[e._v(e._s(l.label))]):3==n.row[t.name]?a("el-tag",{attrs:{effect:"plain",type:"danger"}},[e._v(e._s(l.label))]):4==n.row[t.name]?a("el-tag",{attrs:{effect:"plain",type:""}},[e._v(e._s(l.label))]):n.row[t.name]==l.value?a("el-tag",{attrs:{effect:"plain",type:"info"}},[e._v(e._s(l.label))]):e._e()]:e._e()]})]}}],null,!0)}):t.name.indexOf("_time")>-1?a("el-table-column",{attrs:{label:t.label},scopedSlots:e._u([{key:"default",fn:function(n){return[a("span",[e._v(e._s(e.dateFormat(n.row[t.name])))])]}}],null,!0)}):a("el-table-column",{attrs:{label:t.label},scopedSlots:e._u([{key:"default",fn:function(n){return[a("span",[e._v(e._s(n.row[t.name]))])]}}],null,!0)})]:e._e()]}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.operateForView(t.row)}}},[e._v("查看")]),e._v(" "),1==t.row.status?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.operateForDisable(t.row.id,0,t.$index)}}},[e._v("启用")]):a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.operateForDisable(t.row.id,1,t.$index)}}},[e._v("锁定")])]}}])})],2),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"total,prev, pager, next","current-page":e.listPage.currentPage,"page-size":e.pageSize,total:e.total},on:{"current-change":e.pageChange,"update:currentPage":function(t){return e.$set(e.listPage,"currentPage",t)},"update:current-page":function(t){return e.$set(e.listPage,"currentPage",t)}}})],1)],1)},staticRenderFns:[]};var h={name:"ChannelManager",data:function(){return{params:{name:"AP_USER",page:1,size:10,where:[]},total:0,host:"",list:[],fileds:[{list:!0,label:"用户名",name:"name",type:"input",placeholder:"请输入用户名",rule:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:5,max:20,message:"用户名在5~20个字符",trigger:"blur"}]},{list:!1,label:"密码",name:"password",type:"input",placeholder:"请输入密码"},{list:!0,label:"手机号",name:"phone",type:"input",placeholder:"请输入手机号"},{list:!0,label:"性别",name:"sex",type:"radio",value:1,radios:[{value:0,label:"男"},{value:1,label:"女"},{value:2,label:"未知"}]},{list:!0,label:"实名认证",name:"is_certification",type:"radio",value:0,radios:[{value:0,label:"否"},{value:1,label:"是"}]},{list:!0,label:"身份认证",name:"is_identity_authentication",type:"radio",value:0,radios:[{value:0,label:"否"},{value:1,label:"是"}]},{list:!0,label:"账号状态",name:"status",type:"radio",value:0,radios:[{value:0,label:"正常"},{value:1,label:"锁定"}]},{list:!0,label:"用户标识",name:"flag",type:"radio",value:0,radios:[{value:0,label:"普通用户"},{value:1,label:"自媒体人"},{value:2,label:"大V"}]},{list:!0,label:"注册时间",name:"created_time",type:"hidden",value:d.a.format13HH((new Date).getTime())}]}},mounted:function(){this.loadData()},components:{SearchTool:c,SearchResult:a("C7Lr")(m,g,!1,function(e){a("tKzH")},"data-v-6a3a1a9a",null).exports,Editor:a("zytZ").a},methods:{viewData:function(e){this.$refs.editor.view(e)},addData:function(e){this.$refs.editor.add()},submitSuccess:function(){this.loadData()},changeStatus:function(e,t){this.$set(this.list[e],"status",t)},changeParam:function(e){this.params.page=1,this.params.where[0]=e,this.loadData()},changePage:function(e){this.params.page=e.page,this.loadData()},loadData:function(){var e=this;return o()(l.a.mark(function t(){var a;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(f.b)(s()({},e.params));case 2:0==(a=t.sent).code?(e.list=a.data.list,e.host=a.host,e.total=a.data.total):e.$message({type:"error",message:a.error_message});case 4:case"end":return t.stop()}},t,e)}))()}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Editor",{ref:"editor",attrs:{fileds:e.fileds,title:"用户",table:this.params.name,submitSuccess:e.submitSuccess}}),e._v(" "),a("search-tool",{attrs:{changeParam:e.changeParam,addData:e.addData}}),e._v(" "),a("search-result",{ref:"mySearchResult",attrs:{list:e.list,host:e.host,total:e.total,table:this.params.name,viewData:e.viewData,changePage:e.changePage,changeStatus:e.changeStatus,fileds:e.fileds,pageSize:e.params.size}})],1)},staticRenderFns:[]};var b=a("C7Lr")(h,v,!1,function(e){a("Keoe")},"data-v-13c5df28",null);t.default=b.exports},jquy:function(e,t){},tKzH:function(e,t){}});
//# sourceMappingURL=7.bf532f6884137ba6efc2.js.map