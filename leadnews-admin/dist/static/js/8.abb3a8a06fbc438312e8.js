webpackJsonp([8],{"6jWX":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("lC5x"),r=a.n(n),s=a("4YfN"),i=a.n(s),o=a("J0Oq"),l=a.n(o),c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"filter"},[a("div",{staticClass:"filter-container"},[a("el-form",{ref:"form"},[a("el-form-item",{attrs:{"label-width":"100px",label:"搜索敏感词"}},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"400px"},attrs:{placeholder:"请输入敏感词"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.queryData}},[e._v("搜 索")]),e._v(" "),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addData}},[e._v("新 增")])],1)],1)],1)])},staticRenderFns:[]};var u=a("C7Lr")({props:["changeParam","addData"],data:function(){return{name:""}},methods:{queryData:function(){var e={filed:"sensitives",type:"like",value:this.name};this.changeParam(e)}}},c,!1,function(e){a("ZABe")},"data-v-0e900538",null).exports,d=a("xT6B"),f=a("t5DY"),m=a("lS+k"),p={props:["host","list","table","pageSize","total","changePage","editData","deleteData"],data:function(){return{listPage:{currentPage:1},id:{filed:"id",type:"eq",value:""},setForStatus:{status:""}}},methods:{getImage:function(e,t){return e[t]?this.host+e[t]:m},pageChange:function(e){this.changePage&&this.changePage({page:e})},resetPage:function(){},dateFormat:function(e){return d.a.format13(e)},doDelete:function(e,t,a){var n=this;return l()(r.a.mark(function t(){var a,s;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n.id.value=e,a={name:n.table,where:[n.id]},t.next=4,Object(f.a)(a);case 4:0==(s=t.sent).code?(n.deleteData(e),n.$message({type:"success",message:"操作成功！"})):n.$message({type:"error",message:s.errorMessage});case 6:case"end":return t.stop()}},t,n)}))()},operateForEditor:function(e){this.editData(e)},operateForDelete:function(e,t,a){var n=this;this.$confirm("确定要删除吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(r){r.value;n.doDelete(e,t,a)}).catch(function(){})}}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"result"},[a("header",[e._v(e._s("共找到"+e.total+"条符合条件的内容"))]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.list}},[a("el-table-column",{attrs:{label:"敏感词"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.sensitives))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.dateFormat(t.row.created_time)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.operateForEditor(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.operateForDelete(t.row.id,0,t.$index)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{layout:"total,prev, pager, next","current-page":e.listPage.currentPage,"page-size":e.pageSize,total:e.total},on:{"current-change":e.pageChange,"update:currentPage":function(t){return e.$set(e.listPage,"currentPage",t)},"update:current-page":function(t){return e.$set(e.listPage,"currentPage",t)}}})],1)],1)},staticRenderFns:[]};var g={name:"ChannelManager",data:function(){return{params:{name:"AD_SENSITIVE",page:1,size:10,where:[]},total:0,host:"",list:[],fileds:[{label:"敏感词",name:"sensitives",type:"input",placeholder:"请输入敏感词",rule:[{required:!0,message:"请输入敏感词",trigger:"blur"},{min:2,max:8,message:"敏感词在2~8个字符",trigger:"blur"}]},{label:"创建时间",name:"created_time",type:"hidden",value:d.a.format13HH((new Date).getTime())}]}},mounted:function(){this.loadData()},components:{SearchTool:u,SearchResult:a("C7Lr")(p,h,!1,function(e){a("cVf9")},"data-v-8bf6317a",null).exports,Editor:a("zytZ").a},methods:{editData:function(e){this.$refs.editor.edit(e)},addData:function(e){this.$refs.editor.add()},submitSuccess:function(){this.loadData()},deleteData:function(e){this.loadData()},changeParam:function(e){this.params.page=1,this.params.where[0]=e,this.loadData()},changePage:function(e){this.params.page=e.page,this.loadData()},loadData:function(){var e=this;return l()(r.a.mark(function t(){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(f.b)(i()({},e.params));case 2:0==(a=t.sent).code?(e.list=a.data.list,e.host=a.host,e.total=a.data.total):e.$message({type:"error",message:a.error_message});case 4:case"end":return t.stop()}},t,e)}))()}}},v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("Editor",{ref:"editor",attrs:{fileds:e.fileds,title:"敏感词",table:this.params.name,submitSuccess:e.submitSuccess}}),e._v(" "),a("search-tool",{attrs:{changeParam:e.changeParam,addData:e.addData}}),e._v(" "),a("search-result",{ref:"mySearchResult",attrs:{list:e.list,host:e.host,total:e.total,table:this.params.name,editData:e.editData,changePage:e.changePage,deleteData:e.deleteData,pageSize:e.params.size}})],1)},staticRenderFns:[]};var _=a("C7Lr")(g,v,!1,function(e){a("EHLd")},"data-v-4d7ca77b",null);t.default=_.exports},EHLd:function(e,t){},ZABe:function(e,t){},cVf9:function(e,t){}});
//# sourceMappingURL=8.abb3a8a06fbc438312e8.js.map